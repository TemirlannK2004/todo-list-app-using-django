{% extends "base.html" %}
{% load static %}
{% load crispy_forms_filters %}
{% load crispy_forms_tags %}

{% block content %}
    <style>
        .square  {
            background: #742929;
            border-radius: 4px;
            width: 10rem;
            height: 10rem;

        }
    </style>


    <div class="row w-100 pl-4">
        <div class="d-flex justify-content-end mb-3">

            <div class="d-flex ">
                <form action="" method="get">
                    <div class="input-group rounded">
                        <input type="text" name="search" class="form-control rounded" placeholder="Search" aria-label="Search" aria-describedby="search-addon" value="{{search_input}}" />
                        <input class="btn btn-outline-primary" type="submit" value="Search">
                    </div>
                </form>

                <a href="{% url 'create_task' %}"><button type="button" class="btn btn-outline-success margin-right: 0.5rem;" style="margin-left: 1rem;" data-mdb-ripple-color="dark"><i class="fa fa-plus"aria-hidden="true"></i><span>Add</span></button></a>
            </div>
        </div>

        {%for task in tasks%}
            <div class="col-sm-4 pb-3">
                <div class="card shadow p-3 mb-5 bg-body rounded "
                     style="height: 10rem;">
                    <div class="card-body">
                        {% if not task.complete %}
                            <h5 class="card-title"><i class="fa fa-circle-thin" aria-hidden="true"></i>
                                <span> {{task.title}}</span></h5>
                            <ul style="list-style-type: none;"
                                class="d-flex justify-content-end mt-5">
                                <li><a href="{% url 'delete_task' task.id %}"><button class="btn btn-danger btn-sm rounded"
                                                                                      type="button" data-toggle="modal"
                                                                                      data-target="#exampleModalCenter"
                                                                                      data-placement="top" title="Delete"><i
                                    class="fa fa-trash"></i></button></a>
                                </li>
                                <li style="margin-left: 1rem;margin-right: 1rem;"><a
                                    href="{% url 'update_task' task.id %}"><button
                                        class="btn btn-success btn-sm rounded"
                                        type="button" data-toggle="modal"
                                        data-target="#exampleModal" data-placement="top"
                                        title="Edit"><i class="fa fa-edit"></i></button></a></li>

                                <li><a href="{% url 'task' task.id %}"><button class="btn btn-primary btn-sm rounded" type="button" data-toggle="tooltip" data-placement="top" title="View"><i class="fa fa-eye" aria-hidden="true"></i>
                                </button>
                                </a></li>
                            </ul>

                        {%else%}
                            <h5 class="card-title"><i class="fa fa-check-circle-o" aria-hidden="true"></i>

                                <span class="ml-1" style="text-decoration: line-through;">{{task.title}}</span></h5>
                            <ul style="list-style-type: none;"
                                class="d-flex justify-content-end mt-5">
                                <li><a href="{% url 'delete_task' task.id %}"><button class="btn btn-danger btn-sm rounded"
                                                                                      type="button" data-toggle="modal"
                                                                                      data-placement="top" title="Delete"><i
                                    class="fa fa-trash"></i></button></a>
                                </li>
                                <li style="margin-left: 1rem; margin-right: 1rem;"><a
                                    href="{% url 'update_task' task.id %}"><button
                                        class="btn btn-success btn-sm rounded"
                                        type="button" data-toggle="modal"
                                        data-target="#exampleModal" data-placement="top"
                                        title="Edit"><i class="fa fa-edit"></i></button></a>
                                </li>

                                <li><a href="{% url 'task' task.id %}"><button class="btn btn-primary btn-sm rounded" type="button" data-toggle="tooltip" data-placement="top" title="View"><i class="fa fa-eye" aria-hidden="true"></i>

                                </ul>

                        {% endif %}

                    </div>
                </div>
            </div>

        {%endfor%}

    </div>



<!-- <section class="d-flex justify-content-center">
        <div class="container ">
            <div class="">
            <h3>All Tasks</h3>
                <p class="">{{formatted_date}},{% now "jS F " %}</p>
            </div>
            
            

                <div class="row d-flex flex-wrap "> 
                    {%for task in tasks%}
                    
                    <div class="square">{{task.title}}</div> 
                
                    {%endfor%}
                </div>
                
                    
                
              </div>

        </div>
    </section> -->

<!-- 
    <div class="w-75  col shadow-lg p-3 mb-4  rounded  ">
    <button><a href="{% url 'create_task' %}">Create New Task</a></button>


    <div>
        <table>
            <tr>
                <th>Item</th>
                <th></th>
                <th></th>
                <th></th>
            </tr>
            {%for task in tasks%}
            <tr>
                <td>{{task.title}}</td>
                <td><button><a href="{% url 'task' task.id %}">View</a></button></td>
                <td><button><a href="{% url 'update_task' task.id %}">Update Task</a></button></td>

            </tr>
            {%empty%}
                <h3>No Items</h3>
            {%endfor%}
          
        </table>
    </div>
</div>
</div> -->

{% endblock content %}
